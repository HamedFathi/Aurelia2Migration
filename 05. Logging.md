# :black_nib: Logging


### :heart: Aurelia 1

Write an Appender.

```ts
export class ConsoleAppender {
    debug(logger, ...rest) {
        console.debug(`DEBUG [${logger.id}]`, ...rest);
    }
    info(logger, ...rest) {
        console.info(`INFO [${logger.id}]`, ...rest);
    }
    warn(logger, ...rest) {
        console.warn(`WARN [${logger.id}]`, ...rest);
    }
    error(logger, ...rest) {
        console.error(`ERROR [${logger.id}]`, ...rest);
    }
}
```

In the `main(.js|.ts)`

```ts
import * as LogManager from 'aurelia-logging';
import { ConsoleAppender } from 'aurelia-logging-console';
export function configure(aurelia) {
    aurelia.use.standardConfiguration();
    
    LogManager.addAppender(new ConsoleAppender());
    LogManager.setLevel(LogManager.logLevel.debug);
    
    aurelia.start().then(() => aurelia.setRoot());
}
```

### :gem: Aurelia 2

Write an Appender

```ts
class ConsoleAppender implements IConsoleLike {
  public debug(...args: unknown[]): void {
    console.debug(...args);
  }

  public info(...args: unknown[]): void {
    console.info(...args);
  }

  public warn(...args: unknown[]): void {
    console.warn(...args);
  }

  public error(...args: unknown[]): void {
    console.error(...args);
  }
}
```

With a sink

```ts
@sink({ handles: [LogLevel.debug] })
class EventLog implements ISink {
  public readonly log: ILogEvent[] = [];
  public handleEvent(event: ILogEvent): void {
    this.log.push(event);
  }
}
```

In the main(.js|.ts)

```ts
// Instantiation
const logger = new ConsoleAppender();

Aurelia
  // Registration
  .register(LoggerConfiguration.create({
    $console: logger,
    level: 0,
    sinks: [EventLog]
  }))
  .app(MyApp)
  .start();
```

Finally, The usage

```ts
export class MyApp {
    constructor(@ILogger logger: ILogger) {
        logger.debug("this is my log!");
    }
}
```